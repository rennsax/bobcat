#ifndef _INCLUDED_OFILTERSTREAMBUF_
#define _INCLUDED_OFILTERSTREAMBUF_

#include <fstream>
#include <bobcat/eoi>

namespace FBB
{

class OFilterStreambuf: public Eoi
{
    typedef std::ios::openmode openmode;
    std::ofstream d_dest;

    std::ostream *d_out;

    protected:
        OFilterStreambuf();                                 // 1.f
        OFilterStreambuf(std::string const &fname,          // 2.cc
                         openmode mode = std::ios::out);
        OFilterStreambuf(std::ostream &out);                // 3.f

        void reset(std::string const &fname,                // 1.cc
                  openmode mode = std::ios::out);
        void reset(std::ostream &out);                      // 2.cc

        std::ostream &out() const;                          // .f
};

#include "ofilterstreambuf1.f"
#include "ofilterstreambuf3.f"

#include "out.f"

} // FBB
        
#endif
